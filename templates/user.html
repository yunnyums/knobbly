{% extends "layout.html" %}

{% block titulo %}
¬°Hola, {{ current_user.nombre }}! üêæ
{% endblock %}

{% block contenido %}

<style>
  body {
    background-color: #f8f9fa;
  }
  .navbar-custom {
    background: #6f42c1;
  }
  .navbar-custom .navbar-brand,
  .navbar-custom .nav-link {
    color: white !important;
  }

  .card-cat {
    border: none;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s, box-shadow 0.3s;
    background-color: white;
  }
  .card-cat:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  }

  .card-cat img {
    width: 100%;
    height: 300px;
    object-fit: cover;
  }

  .cat-info {
    padding: 1rem;
  }
  .cat-name {
    font-size: 1.5rem;
    font-weight: bold;
    color: #343a40;
  }
  .cat-desc {
    color: #6c757d;
    margin-top: 0.5rem;
  }

  .btn-like, .btn-dislike {
    width: 48%;
  }
  .btn-like {
    background: #28a745;
    color: white;
  }
  .btn-dislike {
    background: #dc3545;
    color: white;
  }
  .btn-like:hover {
    background: #218838;
  }
  .btn-dislike:hover {
    background: #c82333;
  }

  .actions {
    display: flex;
    justify-content: space-between;
    padding: 1rem;
  }
  <style>
.like-btn {
  font-size: 1.4rem;
  cursor: pointer;
  transition: transform 0.2s ease;
  user-select: none;
}

.like-btn.liked {
  color: red;
  transform: scale(1.4);
}

.like-btn:not(.liked) {
  color: #777;
}

.like-btn:active {
  transform: scale(0.9);
}

.heart-burst {
  position: absolute;
  font-size: 2rem;
  color: red;
  animation: burst 0.4s ease forwards;
}

@keyframes burst {
  0% { transform: scale(0.2); opacity: 1; }
  80% { transform: scale(1.7); opacity: 0.6; }
  100% { transform: scale(2); opacity: 0; }
}
</style>

</style>

<nav class="navbar navbar-expand-lg navbar-custom">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">knobbly üê±</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
      data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

<li class="nav-item">
  <a class="nav-link" href="/productos">üõçÔ∏è Productos</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/carrito">üõí Carrito</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="/mis_pedidos">
        <i class="fa-solid fa-box"></i> Mis pedidos
    </a>
</li>

      </ul>

      <ul class="navbar-nav">
        <li class="nav-item">
          <span class="navbar-text me-3">
            {{ current_user.nombre }}
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/signout">Cerrar sesi√≥n</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<div class="container mt-4">
  <h2 class="text-center mb-4">üê± Perfiles de Gatitos</h2>

  <div class="row row-cols-1 row-cols-md-3 g-4">
    {% for g in gatos %}
    <div class="col">
      <div class="card shadow-sm border-0">

        <!-- FOTO ONLINE SEGURA -->
        <img src="https://cataas.com/cat?{{ g[0] }}" 
             alt="{{ g[2] }}"
             class="img-fluid rounded-top"
             style="height: 260px; object-fit: cover; width: 100%;">

        <div class="card-body text-center">
          <h5 class="card-title">{{ g[2] }}</h5>
          <p class="text-muted">{{ g[4] }}</p>
          <p><strong>Edad:</strong> {{ g[3] }} a√±os</p>
          <p class="mb-3">{{ g[5] }}</p>

          <div class="text-center position-relative">
  <i class="fa-solid fa-heart like-btn" onclick="toggleLike(this)"></i>
</div>

        </div>

      </div>
    </div>
    {% endfor %}
  </div>
</div>
<script>
function toggleLike(el) {
  // Alternar coraz√≥n
  el.classList.toggle("liked");

  // Crear animaci√≥n de explosi√≥n
  const burst = document.createElement("div");
  burst.classList.add("heart-burst");
  burst.innerHTML = "‚ù§Ô∏è";

  el.parentElement.appendChild(burst);

  // Remover animaci√≥n despu√©s
  setTimeout(() => burst.remove(), 400);
}
</script>


{% endblock %}
